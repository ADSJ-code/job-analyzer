<article class="container">
  <header>
    <div class="grid">
      <div style="flex: 0 0 120px; display: flex; align-items: center; justify-content: center;">
        <% if @job.company_logo_url.present? && @job.company_logo_url.to_s.start_with?('http') %>
          <%= image_tag @job.company_logo_url, 
                alt: "#{@job.company_name} logo", 
                style: "max-width: 100px; max-height: 100px; border-radius: 8px;", 
                referrerpolicy: "no-referrer" %>
        <% else %>
          <div style="width: 100px; height: 100px; background: #eee; display: flex; align-items: center; justify-content: center; border-radius: 8px; font-size: 2rem;">ğŸ¢</div>
        <% end %>
      </div>

      <div>
        <hgroup>
          <h1><%= @job.title %></h1>
          <h2><%= @job.company_name %></h2>
        </hgroup>
        <p><small>ğŸ“ <%= @job.location %></small></p>
      </div>
    </div>
  </header>

  <section style="padding: 20px; background: #f9f9f9; border-radius: 8px; border: 1px solid #e5e5e5;">
    <h5>Job Description</h5>
    <div class="description">
      <%= simple_format(@job.description) %>
    </div>
  </section>

  <footer class="grid">
    <% if @job.job_url.present? && @job.job_url.to_s.start_with?('http') %>
      <a href="<%= @job.job_url %>" role="button" target="_blank" rel="noopener noreferrer">
        ğŸš€ Apply on <%= @job.company_name %>
      </a>
    <% else %>
      <button disabled>ğŸš€ Application Link Unavailable</button>
    <% end %>

    <% if @job.company_website.present? && @job.company_website.to_s.start_with?('http') %>
      <a href="<%= @job.company_website %>" role="button" class="secondary outline" target="_blank" rel="noopener noreferrer">
        ğŸŒ Company Website
      </a>
    <% else %>
      <button disabled class="secondary outline">ğŸŒ Website not found</button>
    <% end %>
  </footer>

  <div style="margin-top: 20px; text-align: center;">
    <%= link_to "â† Back to jobs", jobs_path %>
  </div>
</article>